"use strict";(self.webpackChunkAravindh=self.webpackChunkAravindh||[]).push([[278],{278:(Mt,U,p)=>{p.r(U),p.d(U,{UserModule:()=>Et});var u=p(6814),c=p(9351),t=p(9468);let F=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-home"]],decls:2,vars:0,template:function(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"home works!"),t.qZA())}})}return r})();var a=p(95),x=p(147),v=p(1093),w=p(9862);let A=(()=>{class r{constructor(e){this.http=e,this.baseurl="http://localhost:8080/cart/"}SendEmailAndOrder(e){return this.http.post(`${this.baseurl}send-email`,e)}sendEmailConformation(e){return this.http.post(`${this.baseurl}sendEmailConformation`,e)}sendOtpVerification(e,n){return this.http.post(`${this.baseurl}sendOtpVerification`,{email:e,otp:n})}static#t=this.\u0275fac=function(n){return new(n||r)(t.LFG(w.eN))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function I(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1," Username is required. "),t.qZA())}function P(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1," Username already exists. "),t.qZA())}function J(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1,"Password is required. "),t.qZA())}function S(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1,"Password must be at least 8 characters. "),t.qZA())}function O(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1,"Password must contain at least one lowercase letter, one uppercase letter, one digit, and one special character. "),t.qZA())}function R(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1," Mobile number is required. "),t.qZA())}function Y(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1," Mobile number must be a 10-digit number. "),t.qZA())}function D(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1," Age is required. "),t.qZA())}function L(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1," Age must be at least 18. "),t.qZA())}function E(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1," Email is required. "),t.qZA())}function M(r,s){1&r&&(t.TgZ(0,"div",60),t._uU(1," Please enter a valid email address. "),t.qZA())}function B(r,s){1&r&&(t.TgZ(0,"div",17)(1,"label",61),t._uU(2,"Enter Verification Code:"),t.qZA(),t._UZ(3,"input",62),t.qZA())}function Q(r,s){1&r&&(t.TgZ(0,"div",63),t._uU(1," Verification successful! "),t.qZA())}let $=(()=>{class r{constructor(e,n,o,i,l){this.fb=e,this.ser=n,this.route=o,this.matSnak=i,this.ord=l,this.showPassword=!1,this.eyeIcon="fas fa-eye-slash",this.userDetails=[],this.verificationRequested=!1,this.verificationSuccess=!1,this.registrationForm=this.createRegistrationForm()}ngOnInit(){this.getAll()}getAll(){this.ser.getAllUser().subscribe(e=>{this.userDetails=e})}createRegistrationForm(){return this.fb.group({name:new a.NI("",[a.kI.required],[this.usernameExistsValidator()]),email:new a.NI("",[a.kI.required,a.kI.email]),password:new a.NI("",[a.kI.required,a.kI.minLength(8),a.kI.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)]),age:new a.NI("",[a.kI.required,a.kI.min(18)]),gender:new a.NI("",[a.kI.required]),mobile:new a.NI("",[a.kI.required,a.kI.pattern(/^\d{10}$/)]),verificationCheckbox:new a.NI(!1,[a.kI.requiredTrue]),verificationCode:new a.NI("")})}register(){const e=this.registrationForm.value;console.log(e),this.ser.signup(e).subscribe(n=>{this.ser.openSnackBarGreen("Registration Success"),this.route.navigate(["user","login"])})}cancel(){this.route.navigate([""])}usernameExistsValidator(){return e=>{const n=e.value,o=this.userDetails.some(i=>i.name===n);return Promise.resolve(o?{usernameExists:!0}:null)}}togglePassword(){this.showPassword=!this.showPassword,this.eyeIcon=this.showPassword?"fas fa-eye":"fas fa-eye-slash"}generateAndSendVerificationString(){const e=Math.floor(1e6+9e6*Math.random()).toString();console.log(e),this.GeneratedRandomString=e,this.ord.sendOtpVerification(this.registrationForm.value.email,this.GeneratedRandomString).subscribe(n=>{console.log("Verification email sent successfully")}),this.verificationRequested=!0,console.log("Form Valid:",this.registrationForm.valid),console.log("Checkbox Value:",this.registrationForm.get("verificationCheckbox")?.value)}verify(){this.verificationSuccess=this.registrationForm.get("verificationCode")?.value===this.GeneratedRandomString}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(a.qu),t.Y36(x.Z),t.Y36(c.F0),t.Y36(v.ux),t.Y36(A))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-register"]],decls:114,vars:21,consts:[[1,"navbar","navbar-expand-lg","fixed-top",2,"width","100%","background-color","rgb(197, 209, 209)"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["src","assets/logo/Screenshot from 2024-02-02 17-07-10.png","alt","",2,"width","50px","height","50px","margin-left","20px","border-radius","30px"],["id","navbarNav",1,"collapse","navbar-collapse",2,"padding","10px"],[1,"navbar-nav"],[1,"nav-item","active"],["href","#","routerLink","/",1,"nav-link",2,"margin-left","40px","transition","all 0.3s"],[1,"nav-item"],["href","#","routerLink","/car",1,"nav-link",2,"margin-left","30px","transition","all 0.3s"],[1,"navbar-nav","ml-auto"],["href","#","routerLink","/user/register",1,"nav-link",2,"margin-right","50px","transition","all 0.3s"],["href","#","routerLink","/user/about",1,"nav-link",2,"margin-right","30px","transition","all 0.3s"],[1,"container",2,"margin-top","100px"],[1,"textdark",2,"margin-left","46%"],[1,"col-md-6","offset-md-3"],["novalidate","",1,"mx-auto",2,"width","75%",3,"formGroup"],[1,"form-group"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-user"],["for","name",1,"sr-only"],["type","text","id","name","placeholder","Enter your username","formControlName","name","autocomplete","username",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"fas","fa-lock"],["for","password",1,"sr-only"],["id","password","placeholder","Enter your password","formControlName","password","autocomplete","current-password",1,"form-control",3,"type"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-mobile-alt"],["for","mobile",1,"sr-only"],["type","text","id","mobile","placeholder","Enter your mobile number","formControlName","mobile",1,"form-control"],[1,"fas","fa-birthday-cake"],["for","age",1,"sr-only"],["type","number","id","age","placeholder","Enter your age","formControlName","age",1,"form-control"],[1,"mb-3"],[1,"form-label"],[1,"form-check"],["type","radio","name","gender","id","male","value","male","formControlName","gender",1,"form-check-input"],["for","male",1,"form-check-label"],[1,"icon"],[1,"fas","fa-mars"],["type","radio","name","gender","id","female","value","female","formControlName","gender",1,"form-check-input"],["for","female",1,"form-check-label"],[1,"fas","fa-venus"],[1,"fas","fa-envelope"],["for","email",1,"sr-only"],["type","email","id","email","placeholder","Enter your email","formControlName","email",1,"form-control"],["type","checkbox","id","verificationCheckbox","formControlName","verificationCheckbox",1,"form-check-input"],["for","verificationCheckbox",1,"form-check-label"],["type","button",1,"btn","btn-warning","mt-3","me-3",3,"disabled","click"],["class","form-group",4,"ngIf"],["type","button",1,"btn","btn-success","mt-3",3,"disabled","click"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["href","#","routerLink","/user/login",1,"text-primary"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled","click"],[1,"fas","fa-check"],["type","button",1,"btn","btn-danger","mt-3",2,"margin-left","20px",3,"click"],[1,"fas","fa-times"],[1,"text-danger"],["for","verificationCode"],["type","text","id","verificationCode","placeholder","Enter verification code","formControlName","verificationCode",1,"form-control"],["role","alert",1,"alert","alert-success","mt-3"]],template:function(n,o){if(1&n&&(t.TgZ(0,"nav",0)(1,"button",1),t._UZ(2,"span",2),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9," HOME "),t.qZA()(),t.TgZ(10,"li",8)(11,"a",9),t._uU(12," PRODUCTS "),t.qZA()()(),t.TgZ(13,"ul",10)(14,"li",8)(15,"a",11),t._uU(16," ACCOUNT "),t.qZA()(),t.TgZ(17,"li",8)(18,"a",12),t._uU(19," ABOUT "),t.qZA()()()()(),t.TgZ(20,"div",13)(21,"h2",14),t._uU(22,"Register"),t.qZA(),t.TgZ(23,"div",15)(24,"form",16)(25,"div",17)(26,"div",18)(27,"div",19)(28,"span",20),t._UZ(29,"i",21),t.qZA()(),t.TgZ(30,"label",22),t._uU(31,"Username:"),t.qZA(),t._UZ(32,"input",23),t.qZA(),t.YNc(33,I,2,0,"div",24),t.YNc(34,P,2,0,"div",24),t.qZA(),t.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"span",20),t._UZ(39,"i",25),t.qZA()(),t.TgZ(40,"label",26),t._uU(41,"Password:"),t.qZA(),t._UZ(42,"input",27),t.TgZ(43,"div",28)(44,"button",29),t.NdJ("click",function(){return o.togglePassword()}),t._UZ(45,"i"),t.qZA()()(),t.YNc(46,J,2,0,"div",24),t.YNc(47,S,2,0,"div",24),t.YNc(48,O,2,0,"div",24),t.qZA(),t.TgZ(49,"div",17)(50,"div",18)(51,"div",19)(52,"span",20),t._UZ(53,"i",30),t.qZA()(),t.TgZ(54,"label",31),t._uU(55,"Mobile:"),t.qZA(),t._UZ(56,"input",32),t.qZA(),t.YNc(57,R,2,0,"div",24),t.YNc(58,Y,2,0,"div",24),t.qZA(),t.TgZ(59,"div",17)(60,"div",18)(61,"div",19)(62,"span",20),t._UZ(63,"i",33),t.qZA()(),t.TgZ(64,"label",34),t._uU(65,"Age:"),t.qZA(),t._UZ(66,"input",35),t.qZA(),t.YNc(67,D,2,0,"div",24),t.YNc(68,L,2,0,"div",24),t.qZA(),t.TgZ(69,"div",36)(70,"label",37),t._uU(71,"Select your Gender"),t.qZA(),t.TgZ(72,"div",38),t._UZ(73,"input",39),t.TgZ(74,"label",40)(75,"span",41),t._UZ(76,"i",42),t.qZA(),t._uU(77," Male "),t.qZA()(),t.TgZ(78,"div",38),t._UZ(79,"input",43),t.TgZ(80,"label",44)(81,"span",41),t._UZ(82,"i",45),t.qZA(),t._uU(83," Female "),t.qZA()()(),t.TgZ(84,"div",17)(85,"div",18)(86,"div",19)(87,"span",20),t._UZ(88,"i",46),t.qZA()(),t.TgZ(89,"label",47),t._uU(90,"Email:"),t.qZA(),t._UZ(91,"input",48),t.qZA(),t.YNc(92,E,2,0,"div",24),t.YNc(93,M,2,0,"div",24),t.qZA(),t.TgZ(94,"div",38),t._UZ(95,"input",49),t.TgZ(96,"label",50),t._uU(97," I agree to verify my email. "),t.qZA()(),t.TgZ(98,"button",51),t.NdJ("click",function(){return o.generateAndSendVerificationString()}),t._uU(99," Send Otp "),t.qZA(),t.YNc(100,B,4,0,"div",52),t.TgZ(101,"button",53),t.NdJ("click",function(){return o.verify()}),t._uU(102," Verify "),t.qZA(),t.YNc(103,Q,2,0,"div",54),t._uU(104," Already have an account?"),t.TgZ(105,"a",55),t._uU(106,"Login"),t.qZA(),t._UZ(107,"br"),t.TgZ(108,"button",56),t.NdJ("click",function(){return o.register()}),t._UZ(109,"i",57),t._uU(110," Register "),t.qZA(),t.TgZ(111,"button",58),t.NdJ("click",function(){return o.cancel()}),t._UZ(112,"i",59),t._uU(113," Cancel "),t.qZA()()()()),2&n){let i,l,d,g,m,f,b,Z,T,C,y,k,N;t.xp6(24),t.Q6J("formGroup",o.registrationForm),t.xp6(9),t.Q6J("ngIf",(null==(i=o.registrationForm.get("name"))?null:i.hasError("required"))&&(null==(i=o.registrationForm.get("name"))?null:i.touched)),t.xp6(1),t.Q6J("ngIf",(null==(l=o.registrationForm.get("name"))?null:l.hasError("usernameExists"))&&(null==(l=o.registrationForm.get("name"))?null:l.touched)),t.xp6(8),t.s9C("type",o.showPassword?"text":"password"),t.xp6(3),t.Tol(o.eyeIcon),t.xp6(1),t.Q6J("ngIf",(null==(d=o.registrationForm.get("password"))?null:d.hasError("required"))&&(null==(d=o.registrationForm.get("password"))?null:d.touched)),t.xp6(1),t.Q6J("ngIf",(null==(g=o.registrationForm.get("password"))?null:g.hasError("minlength"))&&(null==(g=o.registrationForm.get("password"))?null:g.touched)),t.xp6(1),t.Q6J("ngIf",(null==(m=o.registrationForm.get("password"))?null:m.hasError("pattern"))&&(null==(m=o.registrationForm.get("password"))?null:m.touched)),t.xp6(9),t.Q6J("ngIf",(null==(f=o.registrationForm.get("mobile"))?null:f.hasError("required"))&&(null==(f=o.registrationForm.get("mobile"))?null:f.touched)),t.xp6(1),t.Q6J("ngIf",(null==(b=o.registrationForm.get("mobile"))?null:b.hasError("pattern"))&&(null==(b=o.registrationForm.get("mobile"))?null:b.touched)),t.xp6(9),t.Q6J("ngIf",(null==(Z=o.registrationForm.get("age"))?null:Z.hasError("required"))&&(null==(Z=o.registrationForm.get("age"))?null:Z.touched)),t.xp6(1),t.Q6J("ngIf",(null==(T=o.registrationForm.get("age"))?null:T.hasError("min"))&&(null==(T=o.registrationForm.get("age"))?null:T.touched)),t.xp6(24),t.Q6J("ngIf",(null==(C=o.registrationForm.get("email"))?null:C.hasError("required"))&&(null==(C=o.registrationForm.get("email"))?null:C.touched)),t.xp6(1),t.Q6J("ngIf",(null==(y=o.registrationForm.get("email"))?null:y.hasError("email"))&&(null==(y=o.registrationForm.get("email"))?null:y.touched)),t.xp6(5),t.Q6J("disabled",o.verificationRequested||!o.registrationForm.valid||!(null!=(k=o.registrationForm.get("verificationCheckbox"))&&k.value)),t.xp6(2),t.Q6J("ngIf",o.verificationRequested),t.xp6(1),t.Q6J("disabled",!o.verificationRequested||(null==(N=o.registrationForm.get("verificationCode"))?null:N.value)!==o.GeneratedRandomString),t.xp6(2),t.Q6J("ngIf",o.verificationSuccess),t.xp6(5),t.Q6J("disabled",!o.verificationSuccess||!o.registrationForm.valid)}},dependencies:[u.O5,c.rH,a._Y,a.Fj,a.wV,a.Wl,a._,a.JJ,a.JL,a.sg,a.u]})}return r})();function G(r,s){1&r&&(t.TgZ(0,"div",36),t._uU(1,"Username is required. "),t.qZA())}function H(r,s){1&r&&(t.TgZ(0,"div",36),t._uU(1,"Password is required. "),t.qZA())}function V(r,s){1&r&&(t.TgZ(0,"div",36),t._uU(1,"Password must be at least 8 characters. "),t.qZA())}function j(r,s){1&r&&(t.TgZ(0,"div",36),t._uU(1,"Password must contain at least one lowercase letter, one uppercase letter, one digit, and one special character. "),t.qZA())}const z=function(r){return["/user/forgetPassword",r]};function K(r,s){if(1&r&&(t.TgZ(0,"span")(1,"a",38),t._uU(2,"Forget Password"),t.qZA()()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(1,z,e.loginForm.value.username))}}function X(r,s){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,K,3,3,"span",37),t.qZA()),2&r){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.loginForm.value.username==e.name)}}let W=(()=>{class r{constructor(e,n,o){this.formBuilder=e,this.router=n,this.carService=o,this.showPassword=!1,this.eyeIcon="fas fa-eye-slash"}ngOnInit(){this.getAll(),this.loginForm=this.formBuilder.group({username:["",[a.kI.required]],password:["",[a.kI.required,a.kI.minLength(8),a.kI.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)]]})}login(){this.carService.signin(this.loginForm.value).subscribe(n=>{console.log(n),localStorage.setItem("user",JSON.stringify({id:n.id,username:n.name,age:n.age,mobile:n.mobile,gender:n.gender,roles:n.roles})),localStorage.setItem("token",n.token),"ADMIN"===n.roles?(this.carService.openSnackBarGreen("Login Success"),this.router.navigate(["admin","dashboard"])):"USER"===n.roles?(this.carService.openSnackBarGreen("Login Success"),this.router.navigate(["user","dashboard"])):alert("Invalid user")},n=>{this.errorMessage=n.error,this.carService.openSnackBarRed(this.errorMessage)})}togglePassword(){this.showPassword=!this.showPassword,this.eyeIcon=this.showPassword?"fas fa-eye":"fas fa-eye-slash"}getAll(){this.carService.getAllUser().subscribe(e=>{this.userDetails=e})}usernameExistsValidator(){return e=>{const n=e.value,o=this.userDetails.some(i=>i.name===n);return console.log(o),Promise.resolve(o?{usernameExists:!0}:null)}}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(a.qu),t.Y36(c.F0),t.Y36(x.Z))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:59,vars:11,consts:[[1,"navbar","navbar-expand-lg","fixed-top",2,"width","100%","background-color","rgb(197, 209, 209)"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["src","assets/logo/Screenshot from 2024-02-02 17-07-10.png","alt","",2,"width","50px","height","50px","margin-left","20px","border-radius","30px"],["id","navbarNav",1,"collapse","navbar-collapse",2,"padding","10px"],[1,"navbar-nav"],[1,"nav-item","active"],["href","#","routerLink","/",1,"nav-link",2,"margin-left","40px","transition","all 0.3s"],[1,"nav-item"],["href","#","routerLink","/car",1,"nav-link",2,"margin-left","30px","transition","all 0.3s"],[1,"navbar-nav","ml-auto"],["href","#","routerLink","/user/register",1,"nav-link",2,"margin-right","50px","transition","all 0.3s"],["href","#","routerLink","/user/about",1,"nav-link",2,"margin-right","30px","transition","all 0.3s"],[1,"container",2,"margin-top","100px","padding","20px","border-radius","10px"],[1,"text-dark",2,"margin-left","47%"],[1,"col-md-6","offset-md-3","mt-3"],[1,"mx-auto",2,"width","75%",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-user"],["for","username",1,"sr-only"],["type","text","id","username","placeholder","Enter your username","formControlName","username","autocomplete","username",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"fas","fa-lock"],["for","password",1,"sr-only"],["id","password","placeholder","Enter your password","formControlName","password","autocomplete","current-password",1,"form-control",3,"type"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[4,"ngFor","ngForOf"],["routerLink","/user/register"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled"],[1,"fas","fa-sign-in-alt"],["type","button","routerLink","",1,"btn","btn-danger","ms-2","mt-3",2,"margin-left","10px"],[1,"fas","fa-times"],[1,"text-danger"],[4,"ngIf"],[3,"routerLink"]],template:function(n,o){if(1&n&&(t.TgZ(0,"nav",0)(1,"button",1),t._UZ(2,"span",2),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9," HOME "),t.qZA()(),t.TgZ(10,"li",8)(11,"a",9),t._uU(12," PRODUCTS "),t.qZA()()(),t.TgZ(13,"ul",10)(14,"li",8)(15,"a",11),t._uU(16," ACCOUNT "),t.qZA()(),t.TgZ(17,"li",8)(18,"a",12),t._uU(19," ABOUT "),t.qZA()()()()(),t.TgZ(20,"div",13)(21,"h2",14),t._uU(22,"Login"),t.qZA(),t.TgZ(23,"div",15)(24,"form",16),t.NdJ("ngSubmit",function(){return o.login()}),t.TgZ(25,"div",17)(26,"div",18)(27,"div",19)(28,"span",20),t._UZ(29,"i",21),t.qZA()(),t.TgZ(30,"label",22),t._uU(31,"Username:"),t.qZA(),t._UZ(32,"input",23),t.qZA(),t.YNc(33,G,2,0,"div",24),t.qZA(),t.TgZ(34,"div",17)(35,"div",18)(36,"div",19)(37,"span",20),t._UZ(38,"i",25),t.qZA()(),t.TgZ(39,"label",26),t._uU(40,"Password:"),t.qZA(),t._UZ(41,"input",27),t.TgZ(42,"div",28)(43,"button",29),t.NdJ("click",function(){return o.togglePassword()}),t._UZ(44,"i"),t.qZA()()(),t.YNc(45,H,2,0,"div",24),t.YNc(46,V,2,0,"div",24),t.YNc(47,j,2,0,"div",24),t.qZA(),t.YNc(48,X,2,1,"div",30),t.TgZ(49,"p"),t._uU(50,"Don't have an Account? "),t.TgZ(51,"a",31),t._uU(52,"Register Now"),t.qZA()(),t.TgZ(53,"button",32),t._UZ(54,"i",33),t._uU(55," Login "),t.qZA(),t.TgZ(56,"button",34),t._UZ(57,"i",35),t._uU(58," Cancel "),t.qZA()()()()),2&n){let i,l,d,g;t.xp6(24),t.Q6J("formGroup",o.loginForm),t.xp6(9),t.Q6J("ngIf",(null==(i=o.loginForm.get("username"))?null:i.hasError("required"))&&(null==(i=o.loginForm.get("username"))?null:i.touched)),t.xp6(8),t.s9C("type",o.showPassword?"text":"password"),t.xp6(3),t.Tol(o.eyeIcon),t.xp6(1),t.Q6J("ngIf",(null==(l=o.loginForm.get("password"))?null:l.hasError("required"))&&(null==(l=o.loginForm.get("password"))?null:l.touched)),t.xp6(1),t.Q6J("ngIf",(null==(d=o.loginForm.get("password"))?null:d.hasError("minlength"))&&(null==(d=o.loginForm.get("password"))?null:d.touched)),t.xp6(1),t.Q6J("ngIf",(null==(g=o.loginForm.get("password"))?null:g.hasError("pattern"))&&(null==(g=o.loginForm.get("password"))?null:g.touched)),t.xp6(1),t.Q6J("ngForOf",o.userDetails),t.xp6(5),t.Q6J("disabled",o.loginForm.invalid)}},dependencies:[u.sg,u.O5,c.rH,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".forget-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline}.forget-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#00008b}"]})}return r})();var h=p(6259);let _=(()=>{class r{constructor(e,n){this.http=e,this.route=n,this.baseurl="http://localhost:8080/cart/"}postCart(e){return this.http.post(`${this.baseurl}addCart`,e)}getCart(){return this.http.get(`${this.baseurl}getCart`)}isAuthenticated(){return null!==localStorage.getItem("token")}deleteCart(e,n){return this.http.delete(`${this.baseurl}deleteCartId/${e}/${n}`,{observe:"response",responseType:"text"})}getCartById(e){return this.http.get(`${this.baseurl}getCartId/${e}`)}cartUpdate(e,n,o){return this.http.put(`${this.baseurl}updateCart/${e}/${n}`,{itemCount:o})}getCartProductIdAndUserId(e,n){return this.http.get(`${this.baseurl}getCart/${e}/${n}`)}static#t=this.\u0275fac=function(n){return new(n||r)(t.LFG(w.eN),t.LFG(c.F0))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function tt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"a",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.navigateToType(i))}),t._uU(1),t.qZA()}if(2&r){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function et(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",29),t._UZ(1,"img",30),t.TgZ(2,"div",31)(3,"h5",32),t._uU(4),t.qZA(),t.TgZ(5,"p",33),t._uU(6),t.qZA(),t.TgZ(7,"p",34),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"div",35)(11,"button",36),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.gotoBuyNow(i.id))}),t._uU(12,"BuyNow"),t.qZA(),t.TgZ(13,"button",37),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.AddToCart(i.id))}),t._uU(14,"AddToCart"),t.qZA()()()()}if(2&r){const e=s.$implicit;t.xp6(1),t.s9C("alt",e.productName),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.productName),t.xp6(2),t.Oqu(e.productDetails),t.xp6(2),t.Oqu(t.gM2(9,5,e.price,"INR","symbol","1.2-2"))}}function ot(r,s){if(1&r&&(t.TgZ(0,"div",27),t.YNc(1,et,15,10,"div",28),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.product)}}function rt(r,s){if(1&r&&(t.TgZ(0,"div",38)(1,"p",39),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij('No results found for "',e.searchTerm,'"'),t.xp6(1),t.AsE(" ",e.searchTerm," - ",e.searchResults.length," ")}}function nt(r,s){if(1&r&&(t.ynx(0),t.YNc(1,ot,2,1,"div",25),t.YNc(2,rt,4,3,"div",26),t.BQk()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",void 0!==e.searchTerm&&""===e.searchTerm.trim()),t.xp6(1),t.Q6J("ngIf",""!==e.searchTerm.trim()&&0===e.searchResults.length)}}function it(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",41),t._UZ(1,"img",30),t.TgZ(2,"div",31)(3,"h5",32),t._uU(4),t.qZA(),t.TgZ(5,"p",33),t._uU(6),t.qZA(),t.TgZ(7,"p",34),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"div",35)(11,"button",42),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.gotoBuyNow(i.id))}),t._uU(12,"Buy Now"),t.qZA(),t.TgZ(13,"button",43),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.AddToCart(i.id))}),t._uU(14,"Add to Cart"),t.qZA()()()()}if(2&r){const e=s.$implicit;t.xp6(1),t.s9C("alt",e.productName),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.productName),t.xp6(2),t.Oqu(e.productDetails),t.xp6(2),t.Oqu(t.gM2(9,5,e.price,"INR","symbol","1.2-2"))}}function at(r,s){if(1&r&&(t.TgZ(0,"div",27),t.YNc(1,it,15,10,"div",40),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.searchResults)}}let st=(()=>{class r{constructor(e,n,o,i,l){this.route=e,this.auth=n,this.ser=o,this.serv=i,this.cdr=l,this.searchTerm="",this.searchResults=[],this.navbar=[],this.navbarType=[]}ngOnInit(){this.userDetails(),this.getAll(),this.gettypeByNav()}userDetails(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e),console.log(this.user))}logout(){confirm("Confirm Logout")?(localStorage.removeItem("user"),localStorage.removeItem("token"),this.route.navigate([""])):location.reload()}getAll(){this.ser.getProduct().subscribe(e=>{this.product=e,console.log(e);const n=new Set(e.map(o=>o.category));this.navbar=[...this.navbar,...Array.from(n)]})}gotoBuyNow(e){this.route.navigate(["user","buynow",e])}AddToCart(e){this.serv.postCart({productId:e,userId:this.user.id}).subscribe(i=>{alert("Item Added to Cart")})}gotoCartPage(){this.route.navigate(["user","cart"])}navigateToCategory(e){this.route.navigate(["user","categories",e])}searchProducts(){this.ser.getproductByNameUsingFilter(this.searchTerm).subscribe(e=>{this.searchResults=e}),""===this.searchTerm&&this.clearSearch()}onSearchChange(e){this.searchTerm=e.target.value,this.searchProducts()}clearSearch(){this.searchTerm="",this.searchResults=[],console.log("searchTerm:",this.searchTerm),console.log("searchResults:",this.searchResults),this.cdr.detectChanges()}gettypeByNav(){this.ser.getProduct().subscribe(e=>{console.log(e);const n=new Set(e.map(o=>o.type));this.navbarType=Array.from(n),console.log(n)})}navigateToType(e){this.route.navigate(["user","type",e])}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(c.F0),t.Y36(h.M),t.Y36(h.M),t.Y36(_),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-dashboard"]],decls:33,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-light","fixed-top","bg-light-gray-3",2,"width","100%"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["src","assets/logo/Screenshot from 2024-02-02 17-07-10.png","alt","",1,"navbar-brand-logo"],["id","navbarNav",1,"collapse","navbar-collapse",2,"padding","10px"],[1,"navbar-nav"],[1,"nav-item","active"],[1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"search-box","ml-auto"],[1,"row"],[1,"col"],["type","text","placeholder","Search products...",1,"form-control",3,"input"],[1,"col-auto"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"btn","btn-danger"],[4,"ngIf","ngIfElse"],["withSearch",""],[1,"dropdown-item",3,"click"],["class","container product-container mt-5",4,"ngIf"],["class","container mt-3 spinner",4,"ngIf"],[1,"container","product-container","mt-5"],["class","card product-card mt-3",4,"ngFor","ngForOf"],[1,"card","product-card","mt-3"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-price"],[1,"product-buttons"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",2,"margin-left","10px",3,"click"],[1,"container","mt-3","spinner"],[1,"text-center","no-results-message","bg-danger","text-light"],["class","card product-card",4,"ngFor","ngForOf"],[1,"card","product-card"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-primary",2,"margin-left","10px",3,"click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"nav",0)(1,"button",1),t._UZ(2,"span",2),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9),t.qZA()(),t.TgZ(10,"li",8)(11,"a",9),t._uU(12," product "),t.qZA(),t.TgZ(13,"div",10),t.YNc(14,tt,2,1,"a",11),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"div",14)(18,"input",15),t.NdJ("input",function(l){return o.onSearchChange(l)}),t.qZA()(),t.TgZ(19,"div",16)(20,"button",17),t.NdJ("click",function(){return o.clearSearch()}),t._uU(21,"Clear"),t.qZA()()()(),t.TgZ(22,"ul",18)(23,"li",19)(24,"a",20),t.NdJ("click",function(){return o.gotoCartPage()}),t._uU(25,"Cart"),t.qZA()(),t.TgZ(26,"li",19)(27,"a",20),t.NdJ("click",function(){return o.logout()}),t.TgZ(28,"button",21),t._uU(29,"Logout"),t.qZA()()()()()(),t.YNc(30,nt,3,2,"ng-container",22),t.YNc(31,at,2,1,"ng-template",null,23,t.W1O)),2&n){const i=t.MAs(32);t.xp6(9),t.Oqu(o.user.username),t.xp6(5),t.Q6J("ngForOf",o.navbarType),t.xp6(16),t.Q6J("ngIf",void 0!==o.searchResults&&0===o.searchResults.length)("ngIfElse",i)}},dependencies:[u.sg,u.O5,u.H9],styles:[".product-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;padding:20px}.product-card[_ngcontent-%COMP%]{width:calc(33.333% - 20px);margin-bottom:20px}.card-img-top[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}@media (max-width: 768px){.product-card[_ngcontent-%COMP%]{width:calc(50% - 20px)}}.no-results-message[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9999;background-color:#fff;padding:10px;border:1px solid #ccc;box-shadow:0 0 10px #0000001a}"]})}return r})();function lt(r,s){if(1&r&&(t.TgZ(0,"option",41),t._uU(1),t.qZA()),2&r){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Oqu(n.DefaultCart[e].itemCount)}}function ct(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",21),t._UZ(1,"img",22),t.TgZ(2,"div",23)(3,"h5",24),t._uU(4),t.qZA(),t.TgZ(5,"p",25),t._uU(6),t.qZA(),t.TgZ(7,"p",26),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"div",27)(11,"select",28),t.NdJ("change",function(){const o=t.CHM(e),i=o.index,l=o.$implicit,d=t.oxw();return t.KtG(d.updateQuantity(i,l.id))}),t.YNc(12,lt,2,1,"option",29),t.TgZ(13,"option",30),t._uU(14,"1"),t.qZA(),t.TgZ(15,"option",31),t._uU(16,"2"),t.qZA(),t.TgZ(17,"option",32),t._uU(18,"3"),t.qZA(),t.TgZ(19,"option",33),t._uU(20,"4"),t.qZA(),t.TgZ(21,"option",34),t._uU(22,"5"),t.qZA(),t.TgZ(23,"option",35),t._uU(24,"6"),t.qZA(),t.TgZ(25,"option",36),t._uU(26,"7"),t.qZA(),t.TgZ(27,"option",37),t._uU(28,"8"),t.qZA(),t.TgZ(29,"option",38),t._uU(30,"9"),t.qZA(),t.TgZ(31,"option",39),t._uU(32,"10"),t.qZA()(),t.TgZ(33,"button",40),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.deleteCart(i.id))}),t._uU(34,"DeleteCart"),t.qZA()()()()}if(2&r){const e=s.$implicit,n=s.index,o=t.oxw();t.xp6(1),t.s9C("alt",e.productName),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.productName),t.xp6(2),t.Oqu(e.productDetails),t.xp6(2),t.Oqu(t.gM2(9,7,e.price,"INR","symbol","1.2-2")),t.xp6(3),t.Q6J("formControlName","itemCount"+n),t.xp6(1),t.Q6J("ngIf",o.DefaultCart[n].productId===e.id&&o.DefaultCart[n].userId===o.user.id)}}function ut(r,s){if(1&r&&(t.TgZ(0,"div",42)(1,"div",43),t._uU(2),t.ALo(3,"currency"),t.qZA()()),2&r){const e=s.$implicit,n=s.index,o=t.oxw();t.xp6(2),t.lnq(" ",e.productName,": ",t.gM2(3,3,e.price,"INR","symbol","1.2-2")," * ",o.itemCount[n]," Item ")}}function dt(r,s){1&r&&t.GkF(0)}function gt(r,s){if(1&r&&(t.TgZ(0,"div",42)(1,"div",43),t._uU(2),t.ALo(3,"currency"),t.qZA()(),t.TgZ(4,"div",42)(5,"div",43),t._uU(6),t.ALo(7,"currency"),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.hij(" Delivery Charge: ",t.gM2(3,2,50,"INR","symbol","1.2-2"),""),t.xp6(4),t.hij("Total Payable: ",t.gM2(7,7,e.calculateTotal(),"INR","symbol","1.2-2"),"")}}function pt(r,s){if(1&r&&(t.TgZ(0,"div",42)(1,"div",43),t._uU(2," Delivery Charge:"),t.TgZ(3,"span",44),t._uU(4,"FREE"),t.qZA()()(),t.TgZ(5,"div",42)(6,"div",43),t._uU(7),t.ALo(8,"currency"),t.qZA()()),2&r){const e=t.oxw();t.xp6(7),t.hij("Total Payable: ",t.gM2(8,1,e.calculateTotal(),"INR","symbol","1.2-2"),"")}}let mt=(()=>{class r{constructor(e,n,o,i,l){this.auth=e,this.route=n,this.cart=o,this.cdr=i,this.fb=l,this.ProductDetails=[],this.dataLoaded=!1,this.total=[],this.itemCount=[],this.totalAmount=0,this.DefaultCart=[],this.form=this.fb.group({})}ngOnInit(){this.userDetails(),this.getByIdDetails(),this.initializeForm(),this.getAllCart()}userDetails(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e),console.log(this.user))}getByIdDetails(){this.cart.getCartById(this.user.id).subscribe(e=>{console.log(e),this.carts=e,this.removeDuplicates()})}removeDuplicates(){const e=this.carts.filter((n,o)=>o===this.carts.findIndex(i=>n.productId===i.productId));console.log(e),this.DuplicateRemovedCart=e,this.getProductDetails()}getProductDetails(){for(let e in this.DuplicateRemovedCart)this.form.addControl(`itemCount${e}`,this.fb.control(1,a.kI.min(1))),this.auth.getProductById(this.DuplicateRemovedCart[e].productId).subscribe(o=>{this.ProductDetails.push(o),this.total.push(o.price),console.log(this.ProductDetails),this.productList()})}logout(){confirm("Confirm Logout")?(localStorage.removeItem("user"),localStorage.removeItem("token"),this.route.navigate([""])):location.reload()}gotoCartPage(){this.route.navigate(["user","cart"])}gotoBuyNow(){this.route.navigate(["user","buynow"])}deleteCart(e){this.cart.deleteCart(e,this.user.id).subscribe(n=>{location.reload()})}productList(){for(let e in this.ProductDetails)this.itemCount.push(1),this.totalAmount+=this.total[e]*this.itemCount[e]}calculateSubtotal(e,n){return e.price*n}calculateTotal(){let e=0;for(let n in this.ProductDetails){const o="itemCount"+n;this.form.addControl(o,this.fb.control(1,a.kI.min(1)));const i=this.form.get(o)?.value||1;e+=this.calculateSubtotal(this.ProductDetails[n],i)}return e<500&&e>0&&(e+=50),e}ngAfterContentChecked(){}ngAfterViewInit(){}initializeForm(){if(this.DuplicateRemovedCart&&this.DuplicateRemovedCart.length>0){const e={};for(let n in this.DuplicateRemovedCart)e[`itemCount${n}`]=this.fb.control(1,a.kI.min(1));this.form=this.fb.group(e)}}updateQuantity(e,n){const o=`itemCount${e}`,i=+this.form.get(o)?.value||1;console.log(i),this.totalAmount-=this.total[e]*this.itemCount[e],this.itemCount[e]=i,this.totalAmount+=this.total[e]*this.itemCount[e],console.log(n,this.user.id,i),this.AddtoCartUsingBackend(n,this.user.id,i)}AddtoCartUsingBackend(e,n,o){console.log(e,n,o),this.cart.cartUpdate(e,n,o).subscribe(i=>{console.log(i)})}getAllCart(){this.cart.getCart().subscribe(e=>{this.DefaultCart=e})}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(h.M),t.Y36(c.F0),t.Y36(_),t.Y36(t.sBO),t.Y36(a.qu))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart"]],decls:32,vars:13,consts:[[1,"navbar","navbar-expand-lg","navbar-light","fixed-top","bg-light-gray-3",2,"width","100%"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["src","assets/logo/Screenshot from 2024-02-02 17-07-10.png","alt","",2,"width","50px","height","50px","margin-left","20px","border-radius","30px"],["id","navbarNav",1,"collapse","navbar-collapse",2,"padding","10px"],[1,"navbar-nav"],[1,"nav-item","active"],[1,"nav-link"],[1,"nav-item"],["routerLink","/user/dashboard",1,"nav-link"],[1,"navbar-nav","ml-auto"],[1,"nav-link",3,"click"],[1,"btn","btn-primary"],[1,"btn","btn-danger"],[1,"container","product-container","mt-5",3,"formGroup"],["class","card product-card mt-3",4,"ngFor","ngForOf"],[1,"container","text-dark"],["class","row justify-content-center",4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],["free",""],["charge",""],[1,"card","product-card","mt-3"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-price"],[1,"product-buttons"],[1,"form-select",3,"formControlName","change"],["selected","",4,"ngIf"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],[1,"btn","btn-danger",2,"margin-left","10px",3,"click"],["selected",""],[1,"row","justify-content-center"],[1,"col-3"],[1,"text-success"]],template:function(n,o){if(1&n&&(t.TgZ(0,"nav",0)(1,"button",1),t._UZ(2,"span",2),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9),t.qZA()(),t.TgZ(10,"li",8)(11,"a",9),t._uU(12,"home"),t.qZA()()(),t.TgZ(13,"ul",10)(14,"li",8)(15,"a",11),t.NdJ("click",function(){return o.gotoBuyNow()}),t.TgZ(16,"button",12),t._uU(17),t.ALo(18,"currency"),t.qZA()()(),t.TgZ(19,"li",8)(20,"a",11),t.NdJ("click",function(){return o.logout()}),t.TgZ(21,"button",13),t._uU(22,"Logout"),t.qZA()()()()()(),t.TgZ(23,"div",14),t.YNc(24,ct,35,12,"div",15),t.qZA(),t.TgZ(25,"div",16),t.YNc(26,ut,4,8,"div",17),t.YNc(27,dt,1,0,"ng-container",18),t.YNc(28,gt,8,12,"ng-template",null,19,t.W1O),t.YNc(30,pt,9,6,"ng-template",null,20,t.W1O),t.qZA()),2&n){const i=t.MAs(29),l=t.MAs(31);t.xp6(9),t.Oqu(o.user.username),t.xp6(8),t.hij("Pay:",t.gM2(18,8,o.calculateTotal(),"INR","symbol","1.2-2"),""),t.xp6(6),t.Q6J("formGroup",o.form),t.xp6(1),t.Q6J("ngForOf",o.ProductDetails),t.xp6(2),t.Q6J("ngForOf",o.ProductDetails),t.xp6(1),t.Q6J("ngIf",o.calculateTotal()<500&&o.calculateTotal()>0)("ngIfThen",i)("ngIfElse",l)}},dependencies:[u.sg,u.O5,c.rH,a.YN,a.Kr,a.EJ,a.JJ,a.JL,a.sg,a.u,u.H9]})}return r})();function ht(r,s){if(1&r&&(t.TgZ(0,"li")(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t._UZ(8,"img",40),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.Oqu(e.carts.productName),t.xp6(2),t.Oqu(e.carts.productDetails),t.xp6(2),t.hij("Price: ",t.gM2(7,4,e.carts.price,"INR","symbol","1.2-2"),""),t.xp6(2),t.s9C("src",e.carts.image,t.LSH)}}function _t(r,s){1&r&&(t.TgZ(0,"div",41),t._uU(1," productCount is required "),t.qZA())}function vt(r,s){1&r&&(t.TgZ(0,"div",41),t._uU(1," Address is required "),t.qZA())}function ft(r,s){1&r&&(t.TgZ(0,"div",41),t._uU(1," Email is required "),t.qZA())}function bt(r,s){1&r&&(t.TgZ(0,"div",41),t._uU(1," Invalid email format "),t.qZA())}function Zt(r,s){1&r&&(t.TgZ(0,"div",41),t._uU(1," Mobile Number is required "),t.qZA())}let Tt=(()=>{class r{goBack(){this.route.navigate(["user","dashboard"])}userDetails(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e),console.log(this.user))}constructor(e,n,o,i,l,d,g,m){this.formBuilder=e,this.auth=n,this.route=o,this.cart=i,this.cdr=l,this.act=d,this.ord=g,this.matSnak=m,this.ProductDetails=[],this.order={productId:0,email:"",userId:0,productCount:0,address:"",amount:0,mobile:0}}ngOnInit(){this.id=this.act.snapshot.params.id,console.log(this.id),this.userDetails(),this.getByIdDetails(),this.orderForm=this.formBuilder.group({productCount:["",a.kI.required],address:["",a.kI.required],email:["",[a.kI.required,a.kI.email]],mobile:["",a.kI.required]})}getByIdDetails(){console.log(this.id),this.auth.getProductById(this.id).subscribe(e=>{console.log(e),this.carts=e})}logout(){confirm("Confirm Logout")?(localStorage.removeItem("user"),localStorage.removeItem("token"),this.route.navigate([""])):location.reload()}gotoBuyNow(){this.route.navigate(["user","buynow"])}onSubmit(){this.order=this.orderForm.value,this.order.userId=this.user.id,this.order.productId=this.id,this.order.amount=this.carts.price,this.orderForm.reset(),this.matSnak.open("Email Sending","Close",{duration:5e3}),this.ord.SendEmailAndOrder(this.order).subscribe(e=>{console.log(e),this.ord.sendEmailConformation(e).subscribe(n=>{console.log(e)}),console.log("Email sent successfully!"),this.route.navigate(["user","dashboard"])})}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(a.qu),t.Y36(h.M),t.Y36(c.F0),t.Y36(_),t.Y36(t.sBO),t.Y36(c.gz),t.Y36(A),t.Y36(v.ux))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-buynow"]],decls:71,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-light","fixed-top","bg-light-gray-3",2,"width","100%"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["src","assets/logo/Screenshot from 2024-02-02 17-07-10.png","alt","",2,"width","50px","height","50px","margin-left","20px","border-radius","30px"],["id","navbarNav",1,"collapse","navbar-collapse",2,"padding","10px"],[1,"navbar-nav"],[1,"nav-item","active"],[1,"nav-link"],[1,"nav-item"],["routerLink","/user/dashboard",1,"nav-link"],[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[4,"ngIf"],[3,"formGroup"],[1,"form-group"],["for","productCount"],["name","","id","productCount","formControlName","productCount",1,"form-select"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["class","invalid-feedback",4,"ngIf"],["for","address"],["id","address","rows","3","formControlName","address",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","mobile"],["type","tel","id","mobile","formControlName","mobile",1,"form-control"],["type","submit",1,"btn","btn-success","btn-block","mt-4",3,"disabled","click"],["type","button",1,"btn","btn-danger","mt-3","btn-block",3,"click"],["alt","",1,"img-fluid",3,"src"],[1,"invalid-feedback"]],template:function(n,o){if(1&n&&(t.TgZ(0,"nav",0)(1,"button",1),t._UZ(2,"span",2),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9),t.qZA()(),t.TgZ(10,"li",8)(11,"a",9),t._uU(12,"home"),t.qZA()()()()(),t.TgZ(13,"div",10)(14,"h1",11),t._uU(15,"Order Now"),t.qZA(),t.TgZ(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"ul"),t.YNc(21,ht,9,9,"li",16),t.qZA()()()(),t.TgZ(22,"div",13)(23,"div",14)(24,"div",15)(25,"form",17)(26,"div",18)(27,"label",19),t._uU(28,"productCount"),t.qZA(),t.TgZ(29,"select",20)(30,"option",21),t._uU(31,"1"),t.qZA(),t.TgZ(32,"option",22),t._uU(33,"2"),t.qZA(),t.TgZ(34,"option",23),t._uU(35,"3"),t.qZA(),t.TgZ(36,"option",24),t._uU(37,"4"),t.qZA(),t.TgZ(38,"option",25),t._uU(39,"5"),t.qZA(),t.TgZ(40,"option",26),t._uU(41,"6"),t.qZA(),t.TgZ(42,"option",27),t._uU(43,"7"),t.qZA(),t.TgZ(44,"option",28),t._uU(45,"8"),t.qZA(),t.TgZ(46,"option",29),t._uU(47,"9"),t.qZA(),t.TgZ(48,"option",30),t._uU(49,"10"),t.qZA()(),t.YNc(50,_t,2,0,"div",31),t.qZA(),t.TgZ(51,"div",18)(52,"label",32),t._uU(53,"Address"),t.qZA(),t._UZ(54,"textarea",33),t.YNc(55,vt,2,0,"div",31),t.qZA(),t.TgZ(56,"div",18)(57,"label",34),t._uU(58,"Email"),t.qZA(),t._UZ(59,"input",35),t.YNc(60,ft,2,0,"div",31),t.YNc(61,bt,2,0,"div",31),t.qZA(),t.TgZ(62,"div",18)(63,"label",36),t._uU(64,"Mobile Number"),t.qZA(),t._UZ(65,"input",37),t.YNc(66,Zt,2,0,"div",31),t.qZA(),t.TgZ(67,"button",38),t.NdJ("click",function(){return o.onSubmit()}),t._uU(68,"Order Now"),t.qZA(),t.TgZ(69,"button",39),t.NdJ("click",function(){return o.goBack()}),t._uU(70,"Cancel"),t.qZA()()()()()()()),2&n){let i,l,d,g,m;t.xp6(9),t.Oqu(o.user.username),t.xp6(12),t.Q6J("ngIf",o.carts),t.xp6(4),t.Q6J("formGroup",o.orderForm),t.xp6(25),t.Q6J("ngIf",(null==(i=o.orderForm.get("productCount"))?null:i.invalid)&&(null==(i=o.orderForm.get("productCount"))?null:i.touched)),t.xp6(5),t.Q6J("ngIf",(null==(l=o.orderForm.get("address"))?null:l.invalid)&&(null==(l=o.orderForm.get("address"))?null:l.touched)),t.xp6(5),t.Q6J("ngIf",null==(d=o.orderForm.get("email"))||null==d.errors?null:d.errors.required),t.xp6(1),t.Q6J("ngIf",null==(g=o.orderForm.get("email"))||null==g.errors?null:g.errors.email),t.xp6(5),t.Q6J("ngIf",(null==(m=o.orderForm.get("mobile"))?null:m.invalid)&&(null==(m=o.orderForm.get("mobile"))?null:m.touched)),t.xp6(1),t.Q6J("disabled",o.orderForm.invalid)}},dependencies:[u.O5,c.rH,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,u.H9],styles:[".navbar-brand-logo[_ngcontent-%COMP%]{width:50px;height:50px;margin-left:20px;border-radius:50%}.back-to-top[_ngcontent-%COMP%]{margin-top:20px;margin-left:90%;position:fixed}.product-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;padding:20px}.product-card[_ngcontent-%COMP%]{width:300px;margin-bottom:20px}.card-img-top[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.card-text[_ngcontent-%COMP%]{color:#555;margin-bottom:15px}.card-price[_ngcontent-%COMP%]{font-size:1.25rem;color:#007bff}.product-buttons[_ngcontent-%COMP%]{margin-top:10px}"]})}return r})();function Ct(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21),t._UZ(2,"img",22),t.TgZ(3,"div",23)(4,"h2",24),t._uU(5),t.qZA(),t.TgZ(6,"p",25),t._uU(7),t.qZA(),t.TgZ(8,"button",26),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.contactUser(i))}),t._uU(9,"Contact"),t.qZA()()()()}if(2&r){const e=s.$implicit;t.xp6(2),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(e.details)}}const yt=function(r){return{"background-image":r,"background-size":"fixed-top"}};let xt=(()=>{class r{constructor(){this.backgroundImage="assets/logo/bg2.jpg",this.users=[{name:"Prathap",image:"assets/logo/prathap.jpeg",details:"Founder",email:"prathapshanmugam5@gmail.com"},{name:"Aravindh",image:"assets/logo/aravindh.jpg",details:"CEO",email:"aadhiaravindh007@gmail.com"},{name:"Saran",image:"assets/logo/saran.jpeg",details:"Co-Founder",email:"saran@gmail.com"},{name:"Dhivagar",image:"assets/logo/dhivagar.jpeg",details:"Manager",email:"dhivagarmech304@gmail.com"}]}contactUser(e){const o=`Hello ${e.name},\n\n`,i=`mailto:${e.email}?subject=${encodeURIComponent(`Regarding ${e.name}`)}&body=${encodeURIComponent(o)}`;window.location.href=i}static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-about"]],decls:36,vars:4,consts:[[1,"navbar","navbar-expand-lg","fixed-top",2,"width","100%","background-color","rgb(197, 209, 209)"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["src","assets/logo/Screenshot from 2024-02-02 17-07-10.png","alt","",2,"width","50px","height","50px","margin-left","20px","border-radius","30px"],["id","navbarNav",1,"collapse","navbar-collapse",2,"padding","10px"],[1,"navbar-nav"],[1,"nav-item","active"],["href","#","routerLink","/",1,"nav-link",2,"margin-left","40px","transition","all 0.3s"],[1,"nav-item"],["href","#","routerLink","/car",1,"nav-link",2,"margin-left","30px","transition","all 0.3s"],[1,"navbar-nav","ml-auto"],["href","#","routerLink","/user/register",1,"nav-link",2,"margin-right","50px","transition","all 0.3s"],["href","#","routerLink","/user/about",1,"nav-link",2,"margin-right","30px","transition","all 0.3s"],[2,"margin-top","0%","position","absolute","width","100%","height","100%",3,"ngStyle"],[1,"container","text-center",2,"margin-top","100px"],[1,"text-light","display-5",2,"margin-top","150px"],[1,"text-light"],[1,"row","mt-4"],["class","col-md-3 mb-4",4,"ngFor","ngForOf"],[1,"text-center","text-light"],[1,"col-md-3","mb-4"],[1,"card"],["alt","User Image",1,"card-img-top",2,"height","300px",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","text-center",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"nav",0)(1,"button",1),t._UZ(2,"span",2),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9," HOME "),t.qZA()(),t.TgZ(10,"li",8)(11,"a",9),t._uU(12," PRODUCTS "),t.qZA()()(),t.TgZ(13,"ul",10)(14,"li",8)(15,"a",11),t._uU(16," ACCOUNT "),t.qZA()(),t.TgZ(17,"li",8)(18,"a",12),t._uU(19," ABOUT "),t.qZA()()()()(),t.TgZ(20,"div",13)(21,"div",14)(22,"p",15),t._uU(23,"About Us"),t.qZA(),t.TgZ(24,"h2",16),t._uU(25,"We are unwavering in our commitment to providing products that are environmentally responsible, "),t._UZ(26,"br"),t._uU(27,"ethically sourced, and contribute to a circular economy."),t.qZA(),t.TgZ(28,"div",17),t.YNc(29,Ct,10,3,"div",18),t.qZA()(),t.TgZ(30,"nav")(31,"div")(32,"h2",19),t._uU(33,"We acknowledge that the journey towards sustainability is ongoing."),t._UZ(34,"br"),t._uU(35," We are committed to continuous improvement, regularly assessing and refining our practices to align with the latest environmental standards."),t.qZA()()()()),2&n&&(t.xp6(20),t.Q6J("ngStyle",t.VKq(2,yt,"url("+o.backgroundImage+")")),t.xp6(9),t.Q6J("ngForOf",o.users))},dependencies:[u.sg,u.PC,c.rH]})}return r})(),At=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-product"]],decls:2,vars:0,template:function(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"product works!"),t.qZA())}})}return r})();function qt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"li",6)(1,"a",12),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.navigateToCategory(i))}),t._uU(2),t.qZA()()}if(2&r){const e=s.$implicit;t.xp6(2),t.Oqu(e)}}function Ut(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",16),t._UZ(1,"img",17),t.TgZ(2,"div",18)(3,"h5",19),t._uU(4),t.qZA(),t.TgZ(5,"p",20),t._uU(6),t.qZA(),t.TgZ(7,"p",21),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"div",22)(11,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.gotoBuyNow(i.id))}),t._uU(12,"BuyNow"),t.qZA(),t.TgZ(13,"button",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.AddToCart(i.id))}),t._uU(14,"AddToCart"),t.qZA()()()()}if(2&r){const e=s.$implicit;t.xp6(1),t.s9C("alt",e.productName),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.productName),t.xp6(2),t.Oqu(e.productDetails),t.xp6(2),t.Oqu(t.gM2(9,5,e.price,"INR","symbol","1.2-2"))}}let wt=(()=>{class r{constructor(e,n,o,i,l){this.route=e,this.activatedRoute=n,this.auth=o,this.ser=i,this.cart=l,this.categories=[],this.categoryResult=[],this.typeResult=[],this.TypeAndCategory=[],this.typeResultUnique=[]}ngOnInit(){console.log("Checking authentication status..."),this.activatedRoute.params.subscribe(e=>{this.category=e.category,this.type=e.type,this.userDetails(),this.getProductByTypeAndCategory(),this.getBytype()})}getProductByTypeAndCategory(){this.ser.getProductByTypeAndCategory(this.type,this.category).subscribe(e=>{console.log(e),this.TypeAndCategory=e;const n=new Set(e.map(o=>o.category));this.categories=Array.from(n),console.log(this.categories)})}userDetails(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e),console.log(this.user))}logout(){confirm("Confirm Logout")?(localStorage.removeItem("user"),localStorage.removeItem("token"),this.route.navigate([""])):location.reload()}getAll(){this.ser.getProduct().subscribe(e=>{this.product=e,console.log(e)})}navigateToCategory(e){this.route.navigate(["user","category",this.type,e])}getBytype(){this.ser.getProductBytype(this.type).subscribe(e=>{console.log(e),this.typeResult=e;const n=new Set(e.map(o=>o.category));this.typeResultUnique=Array.from(n),console.log(this.typeResultUnique)})}AddToCart(e){this.cart.postCart({productId:e,userId:this.user.id}).subscribe(i=>{alert("Item Added to Cart")})}gotoCartPage(){this.route.navigate(["user","cart"])}gotoBuyNow(e){this.route.navigate(["user","buynow",e])}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(c.F0),t.Y36(c.gz),t.Y36(h.M),t.Y36(h.M),t.Y36(_))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-category"]],decls:24,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","fixed-top","bg-light-gray-3",2,"width","100%"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["src","assets/logo/Screenshot from 2024-02-02 17-07-10.png","alt","",2,"width","50px","height","50px","margin-left","20px","border-radius","30px"],["id","navbarNav",1,"collapse","navbar-collapse",2,"padding","10px"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/user/dashboard",1,"nav-link"],[1,"nav-item","active"],[1,"nav-link"],["class","nav-item",4,"ngFor","ngForOf"],[1,"navbar-nav","ml-auto"],[1,"nav-link",3,"click"],[1,"btn","btn-danger"],[1,"container","product-container","mt-5"],["class","card product-card mt-3",4,"ngFor","ngForOf"],[1,"card","product-card","mt-3"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-price"],[1,"product-buttons"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",2,"margin-left","10px",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"nav",0)(1,"button",1),t._UZ(2,"span",2),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9,"home"),t.qZA()(),t.TgZ(10,"li",8)(11,"a",9),t._uU(12),t.qZA()(),t.YNc(13,qt,3,1,"li",10),t.qZA(),t.TgZ(14,"ul",11)(15,"li",6)(16,"a",12),t.NdJ("click",function(){return o.gotoCartPage()}),t._uU(17,"Cart"),t.qZA()(),t.TgZ(18,"li",6)(19,"a",12),t.NdJ("click",function(){return o.logout()}),t.TgZ(20,"button",13),t._uU(21,"Logout"),t.qZA()()()()()(),t.TgZ(22,"div",14),t.YNc(23,Ut,15,10,"div",15),t.qZA()),2&n&&(t.xp6(12),t.Oqu(o.user.username),t.xp6(1),t.Q6J("ngForOf",o.typeResultUnique),t.xp6(10),t.Q6J("ngForOf",o.TypeAndCategory))},dependencies:[u.sg,c.rH,u.H9]})}return r})();var q=p(6161);function kt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"a",20),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.navigateTocategory(i))}),t._uU(1),t.qZA()}if(2&r){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function Nt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",21),t._UZ(1,"img",22),t.TgZ(2,"div",23)(3,"h5",24),t._uU(4),t.qZA(),t.TgZ(5,"p",25),t._uU(6),t.qZA(),t.TgZ(7,"p",26),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"div",27)(11,"button",28),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.gotoBuyNow(i.id))}),t._uU(12,"BuyNow"),t.qZA(),t.TgZ(13,"button",29),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.AddToCart(i.id))}),t._uU(14,"AddToCart"),t.qZA()()()()}if(2&r){const e=s.$implicit;t.xp6(1),t.s9C("alt",e.productName),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.productName),t.xp6(2),t.Oqu(e.productDetails),t.xp6(2),t.Oqu(t.gM2(9,5,e.price,"INR","symbol","1.2-2"))}}function It(r,s){if(1&r&&(t.TgZ(0,"h2",24),t._uU(1),t.ALo(2,"slice"),t.ALo(3,"slice"),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE(" Verification Code Send: ",t.Dn7(2,2,e.ForgetPasswordUserDetails.email,0,5),"***********",t.xi3(3,6,e.ForgetPasswordUserDetails.email,-5),"")}}function Pt(r,s){1&r&&(t.TgZ(0,"div",25)(1,"label",26),t._uU(2,"Enter Verification Code:"),t.qZA(),t._UZ(3,"input",27),t.qZA())}function Jt(r,s){1&r&&(t.TgZ(0,"div",38),t._uU(1,"Password is required. "),t.qZA())}function St(r,s){1&r&&(t.TgZ(0,"div",38),t._uU(1,"Password must be at least 8 characters. "),t.qZA())}function Ot(r,s){1&r&&(t.TgZ(0,"div",38),t._uU(1,"Password must contain at least one lowercase letter, one uppercase letter, one digit, and one special character. "),t.qZA())}function Rt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",25)(2,"div",29)(3,"div",30)(4,"span",31),t._UZ(5,"i",32),t.qZA()(),t.TgZ(6,"label",33),t._uU(7,"Password:"),t.qZA(),t._UZ(8,"input",34),t.TgZ(9,"div",35)(10,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.togglePassword())}),t._UZ(11,"i"),t.qZA()()(),t.YNc(12,Jt,2,0,"div",37),t.YNc(13,St,2,0,"div",37),t.YNc(14,Ot,2,0,"div",37),t.qZA()()}if(2&r){const e=t.oxw();let n,o,i;t.xp6(8),t.s9C("type",e.showPassword?"text":"password"),t.xp6(3),t.Tol(e.eyeIcon),t.xp6(1),t.Q6J("ngIf",(null==(n=e.registrationForm.get("password"))?null:n.hasError("required"))&&(null==(n=e.registrationForm.get("password"))?null:n.touched)),t.xp6(1),t.Q6J("ngIf",(null==(o=e.registrationForm.get("password"))?null:o.hasError("minlength"))&&(null==(o=e.registrationForm.get("password"))?null:o.touched)),t.xp6(1),t.Q6J("ngIf",(null==(i=e.registrationForm.get("password"))?null:i.hasError("pattern"))&&(null==(i=e.registrationForm.get("password"))?null:i.touched))}}const Dt=[{path:"home",component:F},{path:"register",component:$},{path:"login",component:W},{path:"dashboard",component:st,canActivate:[q.a]},{path:"cart",component:mt,canActivate:[q.a]},{path:"buynow/:id",component:Tt,canActivate:[q.a]},{path:"about",component:xt},{path:"product",component:At},{path:"category/:type/:category",component:wt},{path:"type/:type",component:(()=>{class r{constructor(e,n,o,i,l){this.route=e,this.activatedRoute=n,this.auth=o,this.ser=i,this.cart=l,this.categories=[],this.typeResult=[],this.typeResultUnique=[]}ngOnInit(){console.log("Checking authentication status..."),this.activatedRoute.params.subscribe(e=>{this.type=e.type,this.userDetails(),this.getAll(),this.getBytype()})}userDetails(){const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e),console.log(this.user))}logout(){confirm("Confirm Logout")?(localStorage.removeItem("user"),localStorage.removeItem("token"),this.route.navigate([""])):location.reload()}getAll(){this.ser.getProduct().subscribe(e=>{this.product=e,console.log(e)})}navigateTotype(e){this.route.navigate(["user","type",e])}navigateTocategory(e){this.route.navigate(["user","category",this.type,e])}goBuy(){alert("Login After Continue"),this.route.navigate(["user","login"])}getBytype(){this.ser.getProductBytype(this.type).subscribe(e=>{this.typeResult=e,console.log(this.typeResult);const n=new Set(e.map(o=>o.category));this.typeResultUnique=Array.from(n),console.log(this.typeResultUnique)})}AddToCart(e){this.cart.postCart({productId:e,userId:this.user.id}).subscribe(i=>{alert("Item Added to Cart")})}gotoCartPage(){this.route.navigate(["user","cart"])}gotoBuyNow(e){this.route.navigate(["user","buynow",e])}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(c.F0),t.Y36(c.gz),t.Y36(h.M),t.Y36(h.M),t.Y36(_))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-type"]],decls:30,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-light","fixed-top","bg-light-gray-3",2,"width","100%"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["src","assets/logo/Screenshot from 2024-02-02 17-07-10.png","alt","",2,"width","50px","height","50px","margin-left","20px","border-radius","30px"],["id","navbarNav",1,"collapse","navbar-collapse",2,"padding","10px"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/user/dashboard",1,"nav-link"],[1,"nav-item","active"],[1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"navbar-nav","ml-auto"],[1,"nav-link",3,"click"],[1,"btn","btn-danger"],["routerLink","/car",1,"btn","btn-primary","back-to-top"],[1,"container","product-container","mt-5"],["class","card product-card mt-3",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],[1,"card","product-card","mt-3"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-price"],[1,"product-buttons"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",2,"margin-left","10px",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"nav",0)(1,"button",1),t._UZ(2,"span",2),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9,"home"),t.qZA()(),t.TgZ(10,"li",8)(11,"a",9),t._uU(12),t.qZA()(),t.TgZ(13,"li",10)(14,"a",11),t._uU(15),t.qZA(),t.TgZ(16,"div",12),t.YNc(17,kt,2,1,"a",13),t.qZA()()(),t.TgZ(18,"ul",14)(19,"li",6)(20,"a",15),t.NdJ("click",function(){return o.gotoCartPage()}),t._uU(21,"Cart"),t.qZA()(),t.TgZ(22,"li",6)(23,"a",15),t.NdJ("click",function(){return o.logout()}),t.TgZ(24,"button",16),t._uU(25,"Logout"),t.qZA()()()()()(),t.TgZ(26,"button",17),t._uU(27,"Back to top"),t.qZA(),t.TgZ(28,"div",18),t.YNc(29,Nt,15,10,"div",19),t.qZA()),2&n&&(t.xp6(12),t.Oqu(o.user.username),t.xp6(3),t.hij(" ",o.type," "),t.xp6(2),t.Q6J("ngForOf",o.typeResultUnique),t.xp6(12),t.Q6J("ngForOf",o.typeResult))},dependencies:[u.sg,c.rH,u.H9]})}return r})()},{path:"forgetPassword/:username",component:(()=>{class r{constructor(e,n,o,i,l,d){this.fb=e,this.ser=n,this.route=o,this.matSnak=i,this.ord=l,this.act=d,this.showPassword=!1,this.eyeIcon="fas fa-eye-slash",this.userDetails=[],this.verificationRequested=!1,this.verificationSuccess=!1,this.registrationForm=this.createRegistrationForm()}ngOnInit(){this.getAll(),this.LoginUserName=this.act.snapshot.params.username,console.log(this.LoginUserName),this.getUserDetailsByUserName()}getUserDetailsByUserName(){this.ser.getUserDetailsByUserName(this.LoginUserName).subscribe(e=>{this.ForgetPasswordUserDetails=e,console.log(this.ForgetPasswordUserDetails),this.generateAndSendVerificationString()})}getAll(){this.ser.getAllUser().subscribe(e=>{this.userDetails=e})}createRegistrationForm(){return this.fb.group({password:new a.NI("",[a.kI.required,a.kI.minLength(8),a.kI.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)]),verificationCode:new a.NI("")})}register(){const e=this.registrationForm.value;console.log(e),this.ser.ForgetPassword(this.LoginUserName,e.password).subscribe(n=>{console.log(n),this.ser.openSnackBarGreen("Password Updated"),this.route.navigate(["user","login"])})}cancel(){this.route.navigate([""])}usernameExistsValidator(){return e=>{const n=e.value,o=this.userDetails.some(i=>i.name===n);return Promise.resolve(o?{usernameExists:!0}:null)}}togglePassword(){this.showPassword=!this.showPassword,this.eyeIcon=this.showPassword?"fas fa-eye":"fas fa-eye-slash"}generateAndSendVerificationString(){const e=Math.floor(1e6+9e6*Math.random()).toString();console.log(e),this.GeneratedRandomString=e,this.ord.sendOtpVerification(this.ForgetPasswordUserDetails.email,this.GeneratedRandomString).subscribe(n=>{console.log("Verification email sent successfully")}),this.verificationRequested=!0,console.log("Form Valid:",this.registrationForm.valid),console.log("Checkbox Value:",this.registrationForm.get("verificationCheckbox")?.value)}verify(){this.verificationSuccess=this.registrationForm.get("verificationCode")?.value===this.GeneratedRandomString}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(a.qu),t.Y36(x.Z),t.Y36(c.F0),t.Y36(v.ux),t.Y36(A),t.Y36(c.gz))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-forget-password"]],decls:34,vars:6,consts:[[1,"navbar","navbar-expand-lg","fixed-top",2,"width","100%","background-color","rgb(197, 209, 209)"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["src","assets/logo/Screenshot from 2024-02-02 17-07-10.png","alt","",2,"width","50px","height","50px","margin-left","20px","border-radius","30px"],["id","navbarNav",1,"collapse","navbar-collapse",2,"padding","10px"],[1,"navbar-nav"],[1,"nav-item","active"],["href","#","routerLink","/",1,"nav-link",2,"margin-left","40px","transition","all 0.3s"],[1,"nav-item"],["href","#","routerLink","/car",1,"nav-link",2,"margin-left","30px","transition","all 0.3s"],[1,"navbar-nav","ml-auto"],["href","#","routerLink","/user/register",1,"nav-link",2,"margin-right","50px","transition","all 0.3s"],["href","#","routerLink","/user/about",1,"nav-link",2,"margin-right","30px","transition","all 0.3s"],[1,"container",2,"margin-top","100px"],["class","textdark text-danger text-center",4,"ngIf"],[1,"col-md-6","offset-md-3"],["novalidate","",1,"mx-auto",2,"width","75%",3,"formGroup"],["class","form-group",4,"ngIf"],["type","button",1,"btn","btn-success","mt-3",3,"disabled","click"],["class"," mt-3","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled","click"],[1,"fas","fa-check"],["type","button",1,"btn","btn-danger","mt-3",2,"margin-left","20px",3,"click"],[1,"fas","fa-times"],[1,"textdark","text-danger","text-center"],[1,"form-group"],["for","verificationCode"],["type","text","id","verificationCode","placeholder","Enter verification code","formControlName","verificationCode",1,"form-control"],["role","alert",1,"mt-3"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-lock"],["for","password",1,"sr-only"],["id","password","placeholder","Enter your password","formControlName","password","autocomplete","current-password",1,"form-control",3,"type"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(n,o){if(1&n&&(t.TgZ(0,"nav",0)(1,"button",1),t._UZ(2,"span",2),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9," HOME "),t.qZA()(),t.TgZ(10,"li",8)(11,"a",9),t._uU(12," PRODUCTS "),t.qZA()()(),t.TgZ(13,"ul",10)(14,"li",8)(15,"a",11),t._uU(16," ACCOUNT "),t.qZA()(),t.TgZ(17,"li",8)(18,"a",12),t._uU(19," ABOUT "),t.qZA()()()()(),t.TgZ(20,"div",13),t.YNc(21,It,4,9,"h2",14),t.TgZ(22,"div",15)(23,"form",16),t.YNc(24,Pt,4,0,"div",17),t.TgZ(25,"button",18),t.NdJ("click",function(){return o.verify()}),t._uU(26," Verify "),t.qZA(),t.YNc(27,Rt,15,7,"div",19),t.TgZ(28,"button",20),t.NdJ("click",function(){return o.register()}),t._UZ(29,"i",21),t._uU(30," Update Password "),t.qZA(),t.TgZ(31,"button",22),t.NdJ("click",function(){return o.cancel()}),t._UZ(32,"i",23),t._uU(33," Cancel "),t.qZA()()()()),2&n){let i;t.xp6(21),t.Q6J("ngIf",o.ForgetPasswordUserDetails),t.xp6(2),t.Q6J("formGroup",o.registrationForm),t.xp6(1),t.Q6J("ngIf",o.verificationRequested),t.xp6(1),t.Q6J("disabled",!o.verificationRequested||(null==(i=o.registrationForm.get("verificationCode"))?null:i.value)!==o.GeneratedRandomString),t.xp6(2),t.Q6J("ngIf",o.verificationSuccess),t.xp6(1),t.Q6J("disabled",!o.verificationSuccess||!o.registrationForm.valid)}},dependencies:[u.O5,c.rH,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,u.OU]})}return r})()}];let Lt=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(Dt),c.Bz]})}return r})(),Et=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[u.ez,Lt,a.UX,a.u5,v.ZX]})}return r})()}}]);